/*! rally-jquery-tools v1.2.8 */
!function(a){function b(b,c){var d=a(c);return d.length<2?d:b.parent().find(c)}var c=a.tools.scrollable;c.navigator={conf:{navi:".navi",naviItem:null,activeClass:"active",indexed:!1,idPrefix:null,history:!1}},a.fn.navigator=function(d){"string"==typeof d&&(d={navi:d}),d=a.extend({},c.navigator.conf,d);var e;return this.each(function(){function c(a,b,c){h.seekTo(b),c.preventDefault(),l&&history.pushState({i:b},"")}function f(){return i.find(d.naviItem||"> *")}function g(b){var e=a("<"+(d.naviItem||"a")+"/>").click(function(d){c(a(this),b,d)});return 0===b&&e.addClass(k),d.indexed&&e.text(b+1),d.idPrefix&&e.attr("id",d.idPrefix+b),e.appendTo(i)}var h=a(this).data("scrollable"),i=d.navi.jquery?d.navi:b(h.getRoot(),d.navi),j=h.getNaviButtons(),k=d.activeClass,l=d.history&&!!history.pushState,m=h.getConf().size;h&&(e=h),h.getNaviButtons=function(){return j.add(i)},l&&(history.pushState({i:0},""),a(window).on("popstate",function(a){var b=a.originalEvent.state;b&&h.seekTo(b.i)})),f().length?f().each(function(b){a(this).click(function(d){c(a(this),b,d)})}):a.each(h.getItems(),function(a){a%m==0&&g(a)}),h.onBeforeSeek(function(a,b){setTimeout(function(){if(!a.isDefaultPrevented()){var c=b/m,d=f().eq(c);d.length&&f().removeClass(k).eq(c).addClass(k)}},1)}),h.onAddItem(function(a,b){var c=h.getItems().index(b);c%m==0&&g(c)})}),d.api?e:this}}(jQuery);